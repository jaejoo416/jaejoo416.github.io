(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{iTjv:function(e,t,i){"use strict";i.r(t),i.d(t,"query",(function(){return h}));var a=i("q1tI"),s=i.n(a),n=i("Wbzz"),l=i("9eSz"),o=i.n(l),r=function(){function e(e,t,i,a){void 0===i&&(i=2),void 0===a&&(a=3),this.img=e,this.glass=t,this.w=t.offsetWidth/2,this.h=t.offsetHeight/2,this.bw=a,this.zoom=i,this.moveMagnifier=this.moveMagnifier.bind(this),this.init()}var t=e.prototype;return t.init=function(){this.glass.style.backgroundImage="url('"+this.img.src+"')",this.glass.style.backgroundRepeat="no-repeat",this.glass.style.backgroundSize=this.img.width*this.zoom+"px "+this.img.height*this.zoom+"px",this.glass.addEventListener("mousemove",this.moveMagnifier),this.img.addEventListener("mousemove",this.moveMagnifier),this.glass.addEventListener("touchmove",this.moveMagnifier),this.img.addEventListener("touchmove",this.moveMagnifier)},t.moveMagnifier=function(e){var t,i,a;e.preventDefault(),i=(t=this.getCursorPos(e)).x,a=t.y,i>this.img.width-this.w/this.zoom&&(i=this.img.width-this.w/this.zoom),i<this.w/this.zoom&&(i=this.w/this.zoom),a>this.img.height-this.h/this.zoom&&(a=this.img.height-this.h/this.zoom),a<this.h/this.zoom&&(a=this.h/this.zoom),this.glass.style.left=i-this.w+"px",this.glass.style.top=a-this.h+"px",this.glass.style.backgroundPosition="-"+(i*this.zoom-this.w+this.bw)+"px -"+(a*this.zoom-this.h+this.bw)+"px"},t.getCursorPos=function(e){var t,i=0,a=0;return e=e||window.event,t=this.img.getBoundingClientRect(),i=e.pageX-t.left,a=e.pageY-t.top,{x:i-=window.pageXOffset,y:a-=window.pageYOffset}},e}(),m=i("SiwC"),c=i("LbRr"),h="2098748824";t.default=function(e){var t=e.data,i=e.pageContext,l=Object(a.useContext)(m.b),h=Object(a.useState)(!1),u=h[0],d=h[1],g=Object(a.useState)(t.dataJson.items.length>5),f=g[0],v=g[1],p=Object(a.useRef)(),E=Object(a.useRef)(),w=Object(a.useRef)(),b=t.dataJson.items.find((function(e){return e.name===i.itemName})),x=function(e){var t=p.current,i=t.firstElementChild.clientWidth+1;switch(e){case"prev":t.scrollTo(t.scrollLeft-i,0);break;case"next":t.scrollTo(t.scrollLeft+i,0);break;default:d(t.scrollLeft>0),v(t.scrollLeft+t.clientWidth<t.scrollWidth)}};return s.a.createElement("div",null,s.a.createElement(c.a,{menuList:i.menuList,background:!0}),s.a.createElement("section",{className:"detail"},s.a.createElement("div",{className:"item",style:{height:l.itemHeight+"px"}},s.a.createElement("div",{className:"img-box"},s.a.createElement("div",{ref:E,className:"glass"}),s.a.createElement(o.a,{ref:w,fluid:b.images[1].childImageSharp.fluid,style:{width:l.imgSize+"px",height:l.imgSize+"px"},onLoad:function(){new r(w.current.imageRef.current,E.current)}}))),s.a.createElement("div",{className:"item",style:{height:l.itemHeight+"px"}},s.a.createElement("div",{className:"top"},s.a.createElement("h2",null,b.name),s.a.createElement("h3",null,b.id)),s.a.createElement("div",{className:"bottom"},s.a.createElement("div",null,s.a.createElement("h4",null,"DETAILS"),s.a.createElement("div",{className:"text"},s.a.createElement("i",null,"○ ")," ",b.detail)),s.a.createElement("div",null,s.a.createElement("h4",null,"PRODUCT INFOMATION"),s.a.createElement("div",{className:"drops"},"○ the number of drops: ",b.drops),s.a.createElement("div",{className:"colors"},s.a.createElement("span",null,"○ colors: "),b.colors.map((function(e,t){return s.a.createElement("ul",{key:t},e.map((function(e){return s.a.createElement("li",{style:{backgroundColor:e},key:e},s.a.createElement("div",{className:"box"}))})))})))))),s.a.createElement("div",{className:"more"},s.a.createElement("ul",{ref:p,onScroll:x},t.dataJson.items.map((function(e){if(e.name!==i.itemName){var t=e.name.split(/\s/g);return s.a.createElement("li",{key:e.id},s.a.createElement(n.a,{to:"/"+t[0].toLowerCase()+"/"+t[1]},s.a.createElement(o.a,{fluid:e.images[1].childImageSharp.fluid}),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"text"},e.id))))}return null}))),s.a.createElement("div",{className:"arrow"},s.a.createElement("button",{className:"prev"+(u?"":" hide"),onClick:function(){return x("prev")}},"이전"),s.a.createElement("button",{className:"next"+(f?"":" hide"),onClick:function(){return x("next")}},"다음")))))}}}]);
//# sourceMappingURL=component---src-templates-detail-js-09bf8899135d984f0e8d.js.map